{"version":3,"sources":["../../../../src/geometry/attributes/convert-to-non-indexed.js"],"names":["convertBuffersToNonIndexed","indices","attributes","geometry2","BufferGeometry","name","attribute","array","itemSize","array2","constructor","length","index","index2","i","l","j","addAttribute","BufferAttribute","groups","group","addGroup","start","count","materialIndex"],"mappings":"AAEA,OAAO,SAASA,0BAAT,OAA2D;AAAA,MAAtBC,OAAsB,QAAtBA,OAAsB;AAAA,MAAbC,UAAa,QAAbA,UAAa;AAChE,MAAMC,SAAS,GAAG,IAAIC,cAAJ,EAAlB;;AAEA,OAAK,IAAMC,IAAX,IAAmBH,UAAnB,EAA+B;AAC7B,QAAMI,SAAS,GAAGJ,UAAU,CAACG,IAAD,CAA5B;AAEA,QAAME,KAAK,GAAGD,SAAS,CAACC,KAAxB;AACA,QAAMC,QAAQ,GAAGF,SAAS,CAACE,QAA3B;AAEA,QAAMC,MAAM,GAAG,IAAIF,KAAK,CAACG,WAAV,CAAsBT,OAAO,CAACU,MAAR,GAAiBH,QAAvC,CAAf;AACA,QAAII,KAAK,GAAG,CAAZ;AAAA,QACEC,MAAM,GAAG,CADX;;AAGA,SAAK,IAAIC,CAAC,GAAG,CAAR,EAAWC,CAAC,GAAGd,OAAO,CAACU,MAA5B,EAAoCG,CAAC,GAAGC,CAAxC,EAA2CD,CAAC,EAA5C,EAAgD;AAC9CF,MAAAA,KAAK,GAAGX,OAAO,CAACa,CAAD,CAAP,GAAaN,QAArB;;AACA,WAAK,IAAIQ,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGR,QAApB,EAA8BQ,CAAC,EAA/B,EAAmC;AACjCP,QAAAA,MAAM,CAACI,MAAM,EAAP,CAAN,GAAmBN,KAAK,CAACK,KAAK,EAAN,CAAxB;AACD;AACF;;AACDT,IAAAA,SAAS,CAACc,YAAV,CAAuBZ,IAAvB,EAA6B,IAAIa,eAAJ,CAAoBT,MAApB,EAA4BD,QAA5B,CAA7B;AACD;;AAED,MAAIW,MAAM,GAAG,KAAKA,MAAlB;;AAEA,OAAK,IAAIL,CAAC,GAAG,CAAR,EAAWC,CAAC,GAAGI,MAAM,CAACR,MAA3B,EAAmCG,CAAC,GAAGC,CAAvC,EAA0CD,CAAC,EAA3C,EAA+C;AAC7C,QAAIM,KAAK,GAAGD,MAAM,CAACL,CAAD,CAAlB;AACAX,IAAAA,SAAS,CAACkB,QAAV,CAAmBD,KAAK,CAACE,KAAzB,EAAgCF,KAAK,CAACG,KAAtC,EAA6CH,KAAK,CAACI,aAAnD;AACD;;AAED,SAAOrB,SAAP;AACD","sourcesContent":["/* eslint-disable */\n\nexport function convertBuffersToNonIndexed({indices, attributes}) {\n  const geometry2 = new BufferGeometry();\n\n  for (const name in attributes) {\n    const attribute = attributes[name];\n\n    const array = attribute.array;\n    const itemSize = attribute.itemSize;\n\n    const array2 = new array.constructor(indices.length * itemSize);\n    let index = 0,\n      index2 = 0;\n\n    for (var i = 0, l = indices.length; i < l; i++) {\n      index = indices[i] * itemSize;\n      for (var j = 0; j < itemSize; j++) {\n        array2[index2++] = array[index++];\n      }\n    }\n    geometry2.addAttribute(name, new BufferAttribute(array2, itemSize));\n  }\n\n  var groups = this.groups;\n\n  for (var i = 0, l = groups.length; i < l; i++) {\n    var group = groups[i];\n    geometry2.addGroup(group.start, group.count, group.materialIndex);\n  }\n\n  return geometry2;\n}\n"],"file":"convert-to-non-indexed.js"}