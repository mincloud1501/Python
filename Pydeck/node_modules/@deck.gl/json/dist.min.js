!function(r,e){if("object"==typeof exports&&"object"==typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var n=e();for(var t in n)("object"==typeof exports?exports:r)[t]=n[t]}}(window,(function(){return function(r){var e={};function n(t){if(e[t])return e[t].exports;var o=e[t]={i:t,l:!1,exports:{}};return r[t].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=r,n.c=e,n.d=function(r,e,t){n.o(r,e)||Object.defineProperty(r,e,{enumerable:!0,get:t})},n.r=function(r){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(r,"__esModule",{value:!0})},n.t=function(r,e){if(1&e&&(r=n(r)),8&e)return r;if(4&e&&"object"==typeof r&&r&&r.__esModule)return r;var t=Object.create(null);if(n.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:r}),2&e&&"string"!=typeof r)for(var o in r)n.d(t,o,function(e){return r[e]}.bind(null,o));return t},n.n=function(r){var e=r&&r.__esModule?function(){return r.default}:function(){return r};return n.d(e,"a",e),e},n.o=function(r,e){return Object.prototype.hasOwnProperty.call(r,e)},n.p="",n(n.s=5)}([function(r,e){function n(r){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(r){return typeof r}:function(r){return r&&"function"==typeof Symbol&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r})(r)}function t(e){return"function"==typeof Symbol&&"symbol"===n(Symbol.iterator)?r.exports=t=function(r){return n(r)}:r.exports=t=function(r){return r&&"function"==typeof Symbol&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":n(r)},t(e)}r.exports=t},function(r,e){r.exports=function(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}},function(r,e){function n(r,e){for(var n=0;n<e.length;n++){var t=e[n];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(r,t.key,t)}}r.exports=function(r,e,t){return e&&n(r.prototype,e),t&&n(r,t),r}},function(r,e,n){const t=n(7),o={"||":function(r,e){return r||e},"&&":function(r,e){return r&&e},"|":function(r,e){return r|e},"^":function(r,e){return r^e},"&":function(r,e){return r&e},"==":function(r,e){return r==e},"!=":function(r,e){return r!=e},"===":function(r,e){return r===e},"!==":function(r,e){return r!==e},"<":function(r,e){return r<e},">":function(r,e){return r>e},"<=":function(r,e){return r<=e},">=":function(r,e){return r>=e},"<<":function(r,e){return r<<e},">>":function(r,e){return r>>e},">>>":function(r,e){return r>>>e},"+":function(r,e){return r+e},"-":function(r,e){return r-e},"*":function(r,e){return r*e},"/":function(r,e){return r/e},"%":function(r,e){return r%e}},i={"-":function(r){return-r},"+":function(r){return r},"~":function(r){return~r},"!":function(r){return!r}};function u(r,e){return r.map((function(r){return f(r,e)}))}async function a(r,e){return await Promise.all(r.map(r=>l(r,e)))}function c(r,e){const n=f(r.object,e);return r.computed?[n,n[f(r.property,e)]]:[n,n[r.property.name]]}async function s(r,e){const n=await l(r.object,e);return r.computed?[n,n[await l(r.property,e)]]:[n,n[r.property.name]]}function f(r,e){switch(r.type){case"ArrayExpression":return u(r.elements,e);case"BinaryExpression":return o[r.operator](f(r.left,e),f(r.right,e));case"CallExpression":let n,t,a;if("MemberExpression"===r.callee.type?(n=(a=c(r.callee,e))[0],t=a[1]):t=f(r.callee,e),"function"!=typeof t)return;return t.apply(n,u(r.arguments,e));case"ConditionalExpression":return f(r.test,e)?f(r.consequent,e):f(r.alternate,e);case"Identifier":return e[r.name];case"Literal":return r.value;case"LogicalExpression":return"||"===r.operator?f(r.left,e)||f(r.right,e):"&&"===r.operator?f(r.left,e)&&f(r.right,e):o[r.operator](f(r.left,e),f(r.right,e));case"MemberExpression":return c(r,e)[1];case"ThisExpression":return e;case"UnaryExpression":return i[r.operator](f(r.argument,e));default:return}}async function l(r,e){switch(r.type){case"ArrayExpression":return await a(r.elements,e);case"BinaryExpression":{const[n,t]=await Promise.all([l(r.left,e),l(r.right,e)]);return o[r.operator](n,t)}case"CallExpression":let n,t,u;if("MemberExpression"===r.callee.type?(n=(u=await s(r.callee,e))[0],t=u[1]):t=await l(r.callee,e),"function"!=typeof t)return;return await t.apply(n,await a(r.arguments,e));case"ConditionalExpression":return await l(r.test,e)?await l(r.consequent,e):await l(r.alternate,e);case"Identifier":return e[r.name];case"Literal":return r.value;case"LogicalExpression":{if("||"===r.operator)return await l(r.left,e)||await l(r.right,e);if("&&"===r.operator)return await l(r.left,e)&&await l(r.right,e);const[n,t]=await Promise.all([l(r.left,e),l(r.right,e)]);return o[r.operator](n,t)}case"MemberExpression":return(await s(r,e))[1];case"ThisExpression":return e;case"UnaryExpression":return i[r.operator](await l(r.argument,e));default:return}}r.exports={parse:t,eval:f,evalAsync:l,compile:function(r){return f.bind(null,t(r))},compileAsync:function(r){return l.bind(null,t(r))}}},function(r,e){r.exports=function(r,e,n){return e in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}},function(r,e,n){(function(e){const t=n(8),o=("undefined"==typeof window?e:window).deck||{};if(!o.Layer)throw new Error("@deck.gl/core is not found");r.exports=Object.assign(o,t)}).call(this,n(6))},function(r,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(r){"object"==typeof window&&(n=window)}r.exports=n},function(r,e,n){!function(n){"use strict";var t=function(r,e){var n=new Error(r+" at character "+e);throw n.index=e,n.description=r,n},o={"-":!0,"!":!0,"~":!0,"+":!0},i={"||":1,"&&":2,"|":3,"^":4,"&":5,"==":6,"!=":6,"===":6,"!==":6,"<":7,">":7,"<=":7,">=":7,"<<":8,">>":8,">>>":8,"+":9,"-":9,"*":10,"/":10,"%":10},u=function(r){var e,n=0;for(var t in r)(e=t.length)>n&&r.hasOwnProperty(t)&&(n=e);return n},a=u(o),c=u(i),s={true:!0,false:!1,null:null},f=function(r){return i[r]||0},l=function(r,e,n){return{type:"||"===r||"&&"===r?"LogicalExpression":"BinaryExpression",operator:r,left:e,right:n}},p=function(r){return r>=48&&r<=57},y=function(r){return 36===r||95===r||r>=65&&r<=90||r>=97&&r<=122||r>=128&&!i[String.fromCharCode(r)]},h=function(r){return 36===r||95===r||r>=65&&r<=90||r>=97&&r<=122||r>=48&&r<=57||r>=128&&!i[String.fromCharCode(r)]},v=function(r){for(var e,n,u=0,v=r.charAt,d=r.charCodeAt,b=function(e){return v.call(r,e)},g=function(e){return d.call(r,e)},m=r.length,w=function(){for(var r=g(u);32===r||9===r||10===r||13===r;)r=g(++u)},x=function(){var r,e,n=E();return w(),63!==g(u)?n:(u++,(r=x())||t("Expected expression",u),w(),58===g(u)?(u++,(e=x())||t("Expected expression",u),{type:"ConditionalExpression",test:n,consequent:r,alternate:e}):void t("Expected :",u))},O=function(){w();for(var e=r.substr(u,c),n=e.length;n>0;){if(i.hasOwnProperty(e)&&(!y(g(u))||u+e.length<r.length&&!h(g(u+e.length))))return u+=n,e;e=e.substr(0,--n)}return!1},E=function(){var r,e,n,o,i,a,c,s;if(a=j(),!(e=O()))return a;for(i={value:e,prec:f(e)},(c=j())||t("Expected expression after "+e,u),o=[a,i,c];(e=O())&&0!==(n=f(e));){for(i={value:e,prec:n};o.length>2&&n<=o[o.length-2].prec;)c=o.pop(),e=o.pop().value,a=o.pop(),r=l(e,a,c),o.push(r);(r=j())||t("Expected expression after "+e,u),o.push(i,r)}for(r=o[s=o.length-1];s>1;)r=l(o[s-1].value,o[s-2],r),s-=2;return r},j=function(){var e,n,t;if(w(),e=g(u),p(e)||46===e)return P();if(39===e||34===e)return S();if(91===e)return _();for(t=(n=r.substr(u,a)).length;t>0;){if(o.hasOwnProperty(n)&&(!y(g(u))||u+n.length<r.length&&!h(g(u+n.length))))return u+=t,{type:"UnaryExpression",operator:n,argument:j(),prefix:!0};n=n.substr(0,--t)}return!(!y(e)&&40!==e)&&J()},P=function(){for(var r,e,n="";p(g(u));)n+=b(u++);if(46===g(u))for(n+=b(u++);p(g(u));)n+=b(u++);if("e"===(r=b(u))||"E"===r){for(n+=b(u++),"+"!==(r=b(u))&&"-"!==r||(n+=b(u++));p(g(u));)n+=b(u++);p(g(u-1))||t("Expected exponent ("+n+b(u)+")",u)}return e=g(u),y(e)?t("Variable names cannot start with a number ("+n+b(u)+")",u):46===e&&t("Unexpected period",u),{type:"Literal",value:parseFloat(n),raw:n}},S=function(){for(var r,e="",n=b(u++),o=!1;u<m;){if((r=b(u++))===n){o=!0;break}if("\\"===r)switch(r=b(u++)){case"n":e+="\n";break;case"r":e+="\r";break;case"t":e+="\t";break;case"b":e+="\b";break;case"f":e+="\f";break;case"v":e+="\v";break;default:e+=r}else e+=r}return o||t('Unclosed quote after "'+e+'"',u),{type:"Literal",value:e,raw:n+e+n}},C=function(){var e,n=g(u),o=u;for(y(n)?u++:t("Unexpected "+b(u),u);u<m&&(n=g(u),h(n));)u++;return e=r.slice(o,u),s.hasOwnProperty(e)?{type:"Literal",value:s[e],raw:e}:"this"===e?{type:"ThisExpression"}:{type:"Identifier",name:e}},k=function(r){for(var e,n,o=[],i=!1;u<m;){if(w(),(e=g(u))===r){i=!0,u++;break}44===e?u++:((n=x())&&"Compound"!==n.type||t("Expected comma",u),o.push(n))}return i||t("Expected "+String.fromCharCode(r),u),o},J=function(){var r,e;for(e=40===(r=g(u))?A():C(),w(),r=g(u);46===r||91===r||40===r;)u++,46===r?(w(),e={type:"MemberExpression",computed:!1,object:e,property:C()}):91===r?(e={type:"MemberExpression",computed:!0,object:e,property:x()},w(),93!==(r=g(u))&&t("Unclosed [",u),u++):40===r&&(e={type:"CallExpression",arguments:k(41),callee:e}),w(),r=g(u);return e},A=function(){u++;var r=x();if(w(),41===g(u))return u++,r;t("Unclosed (",u)},_=function(){return u++,{type:"ArrayExpression",elements:k(93)}},N=[];u<m;)59===(e=g(u))||44===e?u++:(n=x())?N.push(n):u<m&&t('Unexpected "'+b(u)+'"',u);return 1===N.length?N[0]:{type:"Compound",body:N}};v.version="0.3.4",v.toString=function(){return"JavaScript Expression Parser (JSEP) v"+v.version},v.addUnaryOp=function(r){return a=Math.max(r.length,a),o[r]=!0,this},v.addBinaryOp=function(r,e){return c=Math.max(r.length,c),i[r]=e,this},v.addLiteral=function(r,e){return s[r]=e,this},v.removeUnaryOp=function(r){return delete o[r],r.length===a&&(a=u(o)),this},v.removeAllUnaryOps=function(){return o={},a=0,this},v.removeBinaryOp=function(r){return delete i[r],r.length===c&&(c=u(i)),this},v.removeAllBinaryOps=function(){return i={},c=0,this},v.removeLiteral=function(r){return delete s[r],this},v.removeAllLiterals=function(){return s={},this},r.exports?e=r.exports=v:e.parse=v}()},function(r,e,n){"use strict";n.r(e);var t=n(4),o=n.n(t),i=n(1),u=n.n(i),a=n(2),c=n.n(a),s=n(0),f=n.n(s);function l(r){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(!r)throw new Error("JSON conversion error ".concat(e))}function p(r,e){var n=function(r){if("string"==typeof r){var e=h[r];return e||(e=r.split("."),h[r]=e),e}return Array.isArray(r)?r:[r]}(e),t=r,o=!0,i=!1,u=void 0;try{for(var a,c=n[Symbol.iterator]();!(o=(a=c.next()).done);o=!0){var s=a.value;t=y(t)?t[s]:void 0}}catch(r){i=!0,u=r}finally{try{o||null==c.return||c.return()}finally{if(i)throw u}}return t}function y(r){return null!==r&&"object"===f()(r)}var h={};var v=n(3),d=n.n(v),b={"-":function(r){return r}};function g(r,e,n){if(r in b)return b[r];var t,o=d.a.parse(r);return o.right||o.left||"Identifier"!==o.type?(!function r(e,n){if(Array.isArray(e))e.forEach((function(e){return r(e,n)}));else if(e&&"object"===f()(e))for(var t in e.type&&n(e),e)r(e[t],n)}(o,(function(r){if("CallExpression"===r.type)throw new Error("Function calls not allowed in JSON expressions")})),t=n?function(r){return d.a.eval(o,r)}:function(r){return d.a.eval(o,{args:r})}):t=function(e){return p(e,r)},b[r]=t,t}var m="type",w=function(r){return r&&"object"===f()(r)},x=function(){function r(){u()(this,r),this.typeKey=m,this.log=console,this.classes={},this.reactComponents={},this.enumerations={},this.constants={},this.convertFunction=O,this.preProcessClassProps=function(r,e){return e},this.postProcessConvertedJson=function(r){return r};for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];for(var o=0,i=n;o<i.length;o++){var a=i[o];this._merge(a)}}return c()(r,[{key:"_merge",value:function(r){for(var e in r)switch(e){case"layers":case"views":Object.assign(this.classes,r[e]);break;default:if(e in this){var n=r[e];this[e]=w(this[e])?Object.assign(this[e],n):n}}}},{key:"validate",value:function(r){return l(!this.typeKey||"string"==typeof this.typeKey),l(w(this.classes)),!0}}]),r}();function O(r,e,n){if(e.startsWith("get")){return g(r,0,!0)}return r}function E(r,e){var n=r&&r[e];if(!n)return e.startsWith("get");switch("object"===f()(n)&&n.type){case"accessor":case"function":return!0;default:return!1}}function j(r,e,n){return function(r,e,n){var t={};for(var o in r){var i=r[o];if(E(e,o)&&"string"==typeof i){i=g(i,0,!0)}i&&(t[o]=i)}return t}(e,function(r){var e=r&&r._propTypes&&r._propTypes;return!e&&r&&r.defaultProps&&(new r({}),e=r&&r._propTypes&&r._propTypes),e}(r))}function P(r,e,n){var t=n.classes[r],o=n.reactComponents[r];if(!t&&!o){var i=n.log,u=JSON.stringify(e,null,0).slice(0,40);return i&&i.warn("JSON converter: No registered class of type ".concat(r,"(").concat(u,"...)  ")),null}return t?function(r,e,n){n.preProcessClassProps&&(e=n.preProcessClassProps(r,e,n));return e=j(r,e),new r(e)}(t,e,n):function(r,e,n){var t=n.React,o=e.children,i=void 0===o?[]:o;delete e.children,n.preProcessClassProps&&(e=n.preProcessClassProps(r,e,n));return e=j(r,e),t.createElement(r,e,i)}(o,e,n)}function S(r,e){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(r);e&&(t=t.filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.push.apply(n,t)}return n}var C=function(r){return r&&"object"===f()(r)},k=function(){function r(e){u()(this,r),this.log=console,this.configuration={},this.onJSONChange=function(){},this.json=null,this.convertedJson=null,this.setProps(e)}return c()(r,[{key:"finalize",value:function(){}},{key:"setProps",value:function(r){"configuration"in r&&(this.configuration=r.configuration instanceof x?r.configuration:new x(r.configuration)),"onJSONChange"in r&&(this.onJSONChange=r.onJSONChange)}},{key:"convert",value:function(r){if(!r||r===this.json)return this.convertedJson;this.json=r;var e=function(r,e){return e=new x(e),J(r,"",e)}(function(r){return"string"==typeof r?JSON.parse(r):r}(r),this.configuration);return e=this.configuration.postProcessConvertedJson(e),this.convertedJson=e,e}},{key:"convertJson",value:function(r){return this.convert(r)}}]),r}();function J(r,e,n){return Array.isArray(r)?r.map((function(r,e){return J(r,String(e),n)})):function(r,e){var n=e.typeKey;return C(r)&&Boolean(r[n])}(r,n)?function(r,e){var n=e.typeKey,t=r[n],i=function(r){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?S(n,!0).forEach((function(e){o()(r,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):S(n).forEach((function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(n,e))}))}return r}({},r);return delete i[n],i=A(i,e),P(t,i,e)}(r,n):C(r)?A(r,n):"string"==typeof r?function(r,e,n){if(n.constants[r])return n.constants[r];if(n.enumerations[r])return r;if(n.convertFunction)return n.convertFunction(r,e,n);return r}(r,e,n):r}function A(r,e){l(C(r));var n={};for(var t in r){var o=r[t];n[t]=J(o,t,e)}return n}function _(r,e){if(r===e)return!0;if("object"!==f()(r)||null===r||"object"!==f()(e)||null===e)return!1;if(Object.keys(r).length!==Object.keys(e).length)return!1;for(var n in r)if(!(n in e)||r[n]!==e[n])return!1;for(var t in e)if(!(t in r))return!1;return!0}n.d(e,"JSONConverter",(function(){return k})),n.d(e,"JSONConfiguration",(function(){return x})),n.d(e,"_convertFunctions",(function(){return j})),n.d(e,"_parseExpressionString",(function(){return g})),n.d(e,"_shallowEqualObjects",(function(){return _})),n.d(e,"_JSONConverter",(function(){return k}))}])}));