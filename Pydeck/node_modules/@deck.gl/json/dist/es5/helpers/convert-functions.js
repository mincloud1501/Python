"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports["default"] = convertFunctions;

var _parseExpressionString = _interopRequireDefault(require("./parse-expression-string"));

var _deckPropTypes = require("./deck-prop-types");

function convertFunctions(Class, props, configuration) {
  var propTypes = (0, _deckPropTypes.getPropTypes)(Class);
  return convertFunctionsUsingPropTypes(props, propTypes, configuration);
}

function convertFunctionsUsingPropTypes(props, propTypes, configuration) {
  var replacedProps = {};

  for (var propName in props) {
    var propValue = props[propName];
    var isFunction = (0, _deckPropTypes.isFunctionProp)(propTypes, propName);

    if (isFunction && typeof propValue === 'string') {
      var isAccessor = true;
      propValue = (0, _parseExpressionString["default"])(propValue, configuration, isAccessor);
    }

    if (propValue) {
      replacedProps[propName] = propValue;
    }
  }

  return replacedProps;
}
//# sourceMappingURL=convert-functions.js.map